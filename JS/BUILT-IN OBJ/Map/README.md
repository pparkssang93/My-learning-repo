# Map

Map 객체는 키-값 쌍과 키의 원래 **삽입 순서를 기억**합니다. 모든 값(객체 및 원시 값 모두)은 키 또는 값으로 사용될 수 있습니다.

```js
const map1 = new Map();

map1.set("a", 1);
map1.set("b", 2);
map1.set("c", 3);

console.log(map1.get("a"));
// Expected output: 1

map1.set("a", 97);

console.log(map1.get("a"));
// Expected output: 97

console.log(map1.size);
// Expected output: 3

map1.delete("b");

console.log(map1.size);
// Expected output: 2
```

<br/>
<br/>
<br/>
<br/>

### Description

`Map` 객체는 키-값 쌍인 집합입니다. 한 `Map`에서의 키는 오직 **단 하나**만 존재 합니다. 이는 `Map` 집합의 유일성입니다. `Map` 객체는 키-값 쌍으로 반복됩니다. `for...of` 루프는 각 반복에 대해 `[key, value]`로 이루어진 멤버가 2개인 배열을 반환합니다. 반복은 삽입한 순서대로 발생합니다. 즉, `set()` 메서드로 맵에 처음 삽입한 각각의 키-값 쌍 순서와 대응됩니다. (`set()`이 호출되었을때 맵에서 해당 키가 없었을 경우입니다)

`Map`의 명세는 "평균적으로 집합 내 요소의 수에 따라 하위 선형인 접근 시간을 제공하는" 맵을 구현해야 한다고 기술되어 있습니다. 따라서 복잡성이 O(N)보다 더 나은 경우 내부적으로 해시 테이블(O(1) 룩업), 검색 트리(O(log(N)) 룩업) 또는 기타 데이터 구조로 표현될 수 있습니다.

<br/>
<br/>

#### Key equality

값 동일성은 `SameValueZero`을 기반으로 합니다.(0과 -0을 다르게 취급하는 등가 같음을 사용하였습니다. 브라우저 호환성을 확인해보세요). 즉, `NaN !== NaN`에도 불구하고 `NaN`은 `NaN`과 동일하게 간주되며, 다른 모든 값은 `===` 연산자의 의미론에 따라 동일하게 간주됩니다.

<br/>
<br/>

#### 객체 vs 맵

`Object`는 `Map`과 유사합니다. 둘 다 값을 가리키는 키를 설정하고, 해당 값을 받아오며, 키를 삭제하며, 키에 무언가가 저장되었는지 여부를 알 수 있습니다. 이러한 이유로 (그리고 대안으로 사용할 수 있는 내장 객체가 없었기 때문에) `Object`는 역사적으로 `Map`으로 사용되어 왔습니다.

| 특성                | Map                                                                        | Object                                                                                  |
| ------------------- | -------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| 우발적 키           | Map는 기본적으로 키를 포함하지 않음. 명시적으로 입력된 내용만 포함됨.      | Object는 프로토타입이 있으므로 기본 키가 포함될 수 있음.                                |
| 보안                | Map은 사용자가 제공하는 키와 값에 대해 안전하게 사용 가능.                 | Object는 프로토타입을 재정의하여 객체 주입 공격이 발생할 수 있음.                       |
| 키 유형             | Map의 키는 모든 값(함수, 객체 또는 원시값 포함)이 될 수 있음.              | Object의 키는 String 또는 Symbol이어야 함.                                              |
| 키 순서             | Map에서 키는 삽입한 순서대로 반복됨.                                       | Object의 키는 복잡한 순서로 정렬되며, 항상 정렬되지 않음.                               |
| 크기                | Map의 아이템 수는 `size` 속성으로 쉽게 가져올 수 있음.                     | Object의 아이템 수는 수동으로 결정해야 함.                                              |
| 순회                | Map은 순회 가능(iterable)하므로 직접 반복할 수 있음.                       | Object는 iteration protocol을 구현하지 않으므로, `for...of`로 직접 반복할 수 없음.      |
| 성능                | 빈번한 추가 및 제거에 최적화되어 있음.                                     | 빈번한 추가 및 제거에 최적화되어 있지 않음.                                             |
| 직렬화 및 구문 분석 | 기본 지원이 없음. JSON.stringify()에 인자로 replacer를 사용하여 지원 가능. | JSON.stringify()를 사용하여 기본적으로 직렬화 지원. JSON.parse()를 통해 구문 분석 지원. |
